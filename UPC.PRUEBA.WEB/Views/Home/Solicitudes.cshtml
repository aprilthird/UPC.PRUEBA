@using UPC.PRUEBA.WEB.ViewModels;
@model List<SolicitudViewModel>
@{
    ViewBag.Title = "Solicitudes";
}

<h2>Solicitudes</h2>

<form method="get">
    <h3>Filtros</h3>
    <div class="row">
        <div class="form-group col-md-2">
            <label>Período</label>
            <input name="Periodo" class="form-control" />
        </div>
        <div class="form-group col-md-2">
            <label>Fecha</label>
            <input name="Fecha" class="form-control" />
        </div>
        <div class="form-group col-md-3">
            <label>Alumno</label>
            <input name="Alumno" class="form-control" />
        </div>
        <div class="form-group col-md-3">
            <label>Curso</label>
            <input name="Curso" class="form-control" />
        </div>
        <div class="form-group col-md-2">
            <label>&emsp;</label>
            <button class="btn btn-block btn-primary" type="submit">Filtrar</button>
        </div>
    </div>
</form>

<div class="my-2">
    <a href="@Url.Action("Solicitud")" class="btn btn-block btn-primary">Nueva Solicitud</a>
</div>

<h3>Resultados</h3>

@if (Model.Any())
{
                <table class="table table-striped table-hover">
                    <thead>
                        <tr>
                            <th>Id</th>
                            <th>Alumno</th>
                            <th>Carrera</th>
                            <th>Periodo</th>
                            <th>CodRegistrante</th>
                            <th>Fecha</th>
                            <th>Acciones</th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var item in Model)
                        {
                            <tr>
                                <td>@item.IdSolicitud</td>
                                <td>@item.AlumnoNombres @item.AlumnoApellidos</td>
                                <td>@item.Carrera</td>
                                <td>@item.Periodo</td>
                                <td>@item.CodRegistrante</td>
                                <td>@item.FechaSolicitud.ToShortDateString()</td>
                                <td>
                                    <a href="@Url.Action("Solicitud", new { IdSolicitud = item.IdSolicitud })" class="btn btn-info">Editar</a>
                                    <a href="@Url.Action("Detalles", new { IdSolicitud = item.IdSolicitud })" class="btn btn-warning">Detalles</a>
                                </td>
                            </tr>
                        }
                    </tbody>
                </table>
}
else
{
    <h3>No cuenta con ninguna solicitud.</h3>
}